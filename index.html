<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us Page</title>


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">

</head>

<body class="contact-page">
    <header class="header">
        <div class="logo">Logo</div>
        <div class="menu-icon" id="menuIcon">â˜°</div>
        <nav class="main-menu">
            <ul>
                <li><a href="#" onclick="loadPage(event, 'company.html')">Company</a></li>
                <li><a href="index.html">Services</a></li>
                <li><a href="index.html">FinTechSolutions</a></li>
                <li><a href="index.html">Products</a></li>
                <li><a href="index.html">Portfolio</a></li>
                <li><a href="index.html">ContactUs</a></li>
            </ul>
        </nav>

        <div class="side-drawer" id="sideDrawer">
            <ul>
                <li><a href="#" onclick="loadPage(event, 'company.html')">Company</a></li>
                <li><a href="index.html">Services</a></li>
                <li><a href="index.html">FinTechSolutions</a></li>
                <li><a href="index.html">Products</a></li>
                <li><a href="index.html">Portfolio</a></li>
                <li><a href="index.html">ContactUs</a></li>
            </ul>
        </div>




    </header>

    <main id="main-content" class="main-content">



        <section class="left-section">




            <div class="title-section">
                <h1>Contact Us</h1>
                <p class="welcome-message">Need an experienced and skilled hand with custom IT projects?<br>Fill out the
                    form to get a free consultation.</p>
            </div>

            <form id="contact-form">
                <input type="text" id="company-name" name="company-name" placeholder="Your Company Name" required>
                <input type="text" id="business-type" name="business-type" placeholder="Nature of Business" required>

                <div class="form-line">
                    <input type="text" id="adress" name="adress" placeholder="Address" required>
                    <input type="number" id="post-code" name="post-code" placeholder="Postcode" required>
                </div>

                <input type="text" id="contact-name" name="contact-name" placeholder="Contact name" required>
                <input type="number" id="contact-phone" name="contact-phone" placeholder="Contact Phone" required>
                <input type="email" id="email" name="email" placeholder="Email" required>
                <small class="error" style="display:none; color:red;">Please, enter valid email address</small>

                <input type="text" id="linkedin" name="linkedin" placeholder="Linkedin">
                <textarea placeholder="Let's talk about your idea" name="message"></textarea>

                <label for="file-upload" class="upload-btn">
                    <img src="img/upload.png"> Upload additional file
                </label>
                <input type="file" id="file-upload" name="file" hidden accept=".pdf">

                <p class="upload-note">Attach file. File size of your documents should not exceed 10MB</p>

                <div class="form-footer">
                    <input type="checkbox" id="privacy-policy" name="privacy-policy">
                    <label for="privacy-policy">I want to protect my data by signing an NDA</label>
                    <button type="button" class="privacy-policy-btn">Read our
                        Privacy Policy</button>
                </div>

                <button type="submit" id="submitBtn" disabled>Submit</button>
            </form>

        </section>


        <aside class="info-section">

            <div id="toast-box" class="toast-box"> </div>


            <h3>Offices</h3>
            <p>United States<br>500 5th Avenue Suite 400, NY 10110</p>
            <p>United Kingdom<br>High St, Bromley BR1 1DN</p>
            <p>France<br>80 avenue des Terroirs de France, Paris</p>

            <h3>For Quick Inquiries</h3>
            <p><img src="img/gb.png" alt="GB"> +44 7777777777<br><img src="img/us.png" alt="US"> +1 3333333330</p>

            <h3>Would you like to join our newsletter?</h3>
            <form class="newsletter-form" submit=" validateForm()">
                <input type="email" id="news-email" name="email" placeholder="Email">
                <button class="submit-newsletter">&#10004;</button>
            </form>
        </aside>
    </main>


    <div id="terms-modal" class="terms-modal">
        <div class="terms-content">
            <h2>Terms & Conditions</h2>
            <div class="terms-scroll">
                <p>These terms and conditions outline the rules and regulations for the use of our website.</p>
                <p>More dummy terms content goes here...</p>
            </div>
            <div class="terms-footer">
                <input type="checkbox" id="terms-check" />
                <label for="terms-check">I accept the terms</label>
                <button onclick="closeTermsModal()" class="close-terms-btn">Close</button>
            </div>
        </div>
    </div>



    <script>
        const form = document.getElementById("contact-form");
        const submitBtn = document.getElementById("submitBtn");
        const termsModal = document.getElementById("terms-modal");
        const termsCheckbox = document.getElementById("terms-check");
        const privacyPolicyBtn = document.querySelector(".privacy-policy-btn");
        const newsForm = document.querySelector(".newsletter-form");

        let isValid = false;


        privacyPolicyBtn.addEventListener("click", () => {
            termsModal.style.display = "block";
        });

        function closeTermsModal() {
            termsModal.style.display = "none";
            validateForm();
        }





        form.addEventListener("submit", function (e) {
            e.preventDefault();
            validateForm();
            if (!isValid) {
                alert("Please correct the errors before submitting.");
                return;
            }
            const fileUpload = document.getElementById("file-upload");

            if (!validateFile()) {
                return;
            }


            const formData = new FormData(form);
            console.log("*********************************");
            console.log("Form Data Submitted:");
            formData.forEach((value, key) => {
                console.log(key + ": " + value);
            });
            console.log("*********************************");


            showToast("Form submitted successfully", "success");
            form.reset();
        });



        newsForm.addEventListener("submit", function (e) {
            e.preventDefault();
            const newsEmailInput = document.getElementById("news-email");
            const email = newsEmailInput.value.trim();

            if (!email.includes("@") || !email.includes(".")) {
                showToast("Please enter a valid news email address.", "error");
                newsEmailInput.style.borderBottom = "1px solid red";
                return;
            } else {
                newsEmailInput.style.borderBottom = "1px solid green";
            }

            showToast("Thank you for subscribing to our newsletter!", "success");
            newsEmailInput.value = "";
        });


        function validateForm() {
            const emailInput = document.getElementById("email");
            const phoneInput = document.getElementById("contact-phone");
            const postCodeInput = document.getElementById("post-code");
            const newsEmailInput = document.getElementById("news-email");

            const companyName = document.getElementById("company-name").value.trim();
            const businessType = document.getElementById("business-type").value.trim();
            const address = document.getElementById("adress").value.trim();
            const contactName = document.getElementById("contact-name").value.trim();
            const privacyPolicy = document.getElementById("privacy-policy").checked;
            const errorElement = document.querySelector(".error");

            isValid = true;

            if (!companyName || !businessType || !address || !contactName || !privacyPolicy) {

                isValid = false;
            }

            const phone = phoneInput.value.trim();


            if (phone.length !== 10 || isNaN(phone)) {

                if (phone !== "") {
                    // showToast("Please enter a valid phone number.", "error");
                    phoneInput.style.borderBottom = "1px solid red";
                } else {
                    phoneInput.style.borderBottom = "";
                }

                isValid = false;
            } else {
                phoneInput.style.borderBottom = "1px solid green";
            }

            const postCode = postCodeInput.value.trim();
            if (postCode.length !== 5 || isNaN(postCode)) {

                if (postCode !== "") {
                    // showToast("Please enter a valid postcode.", "error");
                    postCodeInput.style.borderBottom = "1px solid red";
                } else {
                    postCodeInput.style.borderBottom = "";
                }
                isValid = false;
            } else {
                postCodeInput.style.borderBottom = "1px solid green";
            }

            const email = emailInput.value.trim();
            if (!email.includes("@") || !email.includes(".")) {
                errorElement.style.display = "inline";

                if (email !== "") {
                    // showToast("Please enter a valid email address.", "error");
                    emailInput.style.borderBottom = "1px solid red";
                } else {
                    emailInput.style.borderBottom = "";
                }

                newsEmailInput.addEventListener("input", function () {
                    const email = newsEmailInput.value.trim();
                    if (!email.includes("@") || !email.includes(".")) {
                        newsEmailInput.style.borderBottom = "1px solid red";
                    } else {
                        newsEmailInput.style.borderBottom = "1px solid green";
                    }
                });
                isValid = false;
            } else {
                errorElement.style.display = "none";
                emailInput.style.borderBottom = "1px solid green";
            }


            submitBtn.disabled = !isValid;
            submitBtn.style.backgroundColor = isValid ? "#4CAF50" : "#ccc";
            //adding hover effect

        }

        window.onload = function () {
            for (let i = 0; i < form.elements.length; i++) {
                const el = form.elements[i];
                if (el.tagName !== "BUTTON") {
                    el.addEventListener("input", validateForm);
                    el.addEventListener("change", validateForm);
                }
            }


            const termsModal = document.getElementById("terms-modal");
            const termsCheckbox = document.getElementById("terms-check");
            const privacyPolicyBtn = document.querySelector(".privacy-policy-btn");

            privacyPolicyBtn.addEventListener("click", () => {
                termsModal.style.display = "block";
            });

            validateForm();
        };



        const fileUpload = document.getElementById("file-upload");
        function validateFile() {
            const file = fileUpload.files[0];
            const toastBox = document.getElementById("toast-box");

            if (!file) {
                return true;
            }

            const allowedExtension = /\.pdf$/i;
            if (!allowedExtension.test(file.name)) {
                showToast('<i class="fa-solid fa-circle-xmark"></i>  Only PDF files are allowed.');
                fileUpload.value = "";
                return false;
            }

            const maxSize = 10;
            if (file.size > maxSize) {
                showToast("File size exceeds 10MB. Please upload a smaller file.", "error");

                fileUpload.value = "";
                return false;
            }

            showToast("File uploaded successfully", "success");

            return true;
        }


        const toastBox = document.getElementById("toast-box");

        function showToast(message, type = "success") {
            const toast = document.createElement("div");
            toast.classList.add("toast", `toast-${type}`);

            const icon = document.createElement("i");
            icon.classList.add("toast-icon", "fas");

            if (type === "success")
                icon.classList.add("fa-circle-check");
            else if (type === "error")
                icon.classList.add("fa-circle-xmark");
            else if (type === "info")
                icon.classList.add("fa-circle-info");

            toast.appendChild(icon);

            const text = document.createElement("span");
            text.innerText = " " + message;
            toast.appendChild(text);

            document.getElementById("toast-box").appendChild(toast);

            setTimeout(() => {
                toast.remove();
            }, 5000);
        }



        const sideDrawer = document.getElementById("sideDrawer");

        menuIcon.addEventListener("click", () => {
            sideDrawer.classList.toggle("open");
        });

        document.addEventListener("click", (e) => {
            if (!sideDrawer.contains(e.target) && !menuIcon.contains(e.target)) {
                sideDrawer.classList.remove("open");
            }
        });


        function loadPage(event, page) {
            event.preventDefault();

            fetch(page)
                .then(res => {


                    if (!res.ok) {
                        document.getElementById('main-content').innerHTML = "<p>Error loading page.</p>";
                        throw new Error('Network response was not ok');
                    }
                    return res.text();
                })
                .then(html => {
                    document.getElementById('main-content').innerHTML = html;
                })
                .catch(err => {
                    document.getElementById('main-content').innerHTML = "<p>Error loading page.</p>";
                });
        }

    </script>







</body>

</html>